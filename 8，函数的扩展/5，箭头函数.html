<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /**
         * 箭头函数
         */
        /*
         * ES6 允许使用"箭头"( => )定义函数。
         *
         * var f = v => v
         *
         * 等价于
         * var f = function (v) {
         *     return v;
         * }
         */

        /**
         * 好处
         */
        /*
         * 1，简化代码
         * 2，this
         */

        /**
         * 使用方法
         */
        /*
         * 1，如果箭头函数不需要参数或需要多个参数，就使用一个圆括号代表参数部分。
         *    var f = () => 5;
         *    // 等同于
         *    var f = function () { return 5 };
         * 2，如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用return语句返回。
         *    var sum = (num1, num2) => { return num1 + num2; }
         * 3，由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错。
         *    // 报错
         *    let getTempItem = id => { id: id, name: "Temp" };
         *    // 不报错
         *    let getTempItem = id => ({ id: id, name: "Temp" });
         * 4，箭头函数可以与变量解构结合使用。
         *    const full = ({ first, last }) => first + ' ' + last;
         *    // 等同于
         *    function full(person) {
         *        return person.first + ' ' + person.last;
         *    }
         */

        /**
         * 注意
         */
        /*
         * 1，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。（箭头函数的this指向当前作用域的this）
         *    (this对象的指向是可变的，但是在箭头函数中，它是固定的。)
         * 2，不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误。
         * 3，不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。
         * 4，不可以使用yield命令，因此箭头函数不能用作 Generator 函数。
         */
    </script>
    <script>
        /**
         * 实例1
         */
        function foo() {
            setTimeout(() => {
                console.log(this)
                console.log(arguments)
                console.log('id:', this.id)
            },100)

            setTimeout(function(){
                console.log(this)
                console.log(arguments)
                console.log('id:', this.id)
            },100)
        }
        var id = 21;
        foo.call({ id: 42 });
        // id: 42
    </script>
</head>
<body>

</body>
</html>