<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /**
         * Array.from()
         */
        /*
         * 用于将两类对象转为真正的数组：类似数组的对象 和 可遍历的对象
         * 参数：
         *      参数1：操作对象
         *      参数2：类似于数组的map方法，用来对每个元素进行处理，将处理后的值放入返回的数组。
         */
    </script>
</head>
<body>
<p></p>
<p></p>
<p></p>

<script>
    let arrayLike = {
        '0': 'a',
        '1': 'b',
        '2': 'c',
        length: 3
    };
    // ES5的写法
    var arr1 = [].slice.call(arrayLike);
    console.log(arr1);// ['a', 'b', 'c']
    // ES6的写法
    var arr2 = Array.from(arrayLike);
    console.log(arr2);// ['a', 'b', 'c']

    // NodeList 对象
    let ps = document.querySelectorAll('p');
    console.log(ps);
    console.log(typeof ps);// object
    console.log(Array.from(ps));

    // arguments 对象
    function foo() {
        console.log(arguments);
        console.log(typeof arguments);// object
        console.log(Array.from(arguments));// [1, 2, 3]
    }
    foo(1, 2, 3);

    console.log(Array.from('cherry'));// ['c', 'h', 'e', 'r', 'r', 'y']

    let namesSet = new Set(['a', 'b']);
    console.log(Array.from(namesSet));// ['a', 'b']

    console.log(Array.from(['a', 'b']));// ['a', 'b']

    // 传第二个参数
    let arrayLike1 = {
        '0': 1,
        '1': 2,
        '2': 3,
        length: 3
    };
    console.log(Array.from(arrayLike1, x => x * x));// [1, 4, 9]
    // 等同于
    console.log(Array.from(arrayLike1).map(x => x * x));// [1, 4, 9]

    // 将数组中布尔值为false的成员转为0
    console.log(Array.from([1, , 2, , 3], x => x || 0));//[1, 0, 2, 0, 3]

    // 返回各种数据的类型
    function typeOf(){
        return Array.from(arguments,(x) => typeof x)
    }
    console.log(typeOf(null, [], NaN));// ['object', 'object', 'number']
</script>
</body>
</html>